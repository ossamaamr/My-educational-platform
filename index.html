<!DOCTYPE html>
<html lang="ar">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ููุตุชู ุงูุชุนููููุฉ</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <div id="welcome-screen">
        <div>
            <h1>ุฃููุงู ุจู ูู ููุตุชู ุงูุชุนููููุฉ!</h1>
            <p>ูุฑุฌู ุฅุฏุฎุงู ุงุณูู ููุจุฏุฃ ุฑุญูุชู ุงูุชุนููููุฉ:</p>
            <input type="text" id="userNameInput" placeholder="ุฃุฏุฎู ุงุณูู ููุง...">
            <button id="startButton">ุงุจุฏุฃ ุงูุขู</button>
        </div>
    </div>

    <div id="dashboard" style="display: none;">
        <header>
            <div>
                <h1>ููุตุชู ุงูุชุนููููุฉ</h1>
            </div>
            <p>ูุฑุญุจูุง ูุง <strong id="displayedUserName"></strong> ๐</p>
        </header>

        <div class="dashboard-content-area">
            <aside>
                <h2>ููุฎุต ุงูุชูุฏู</h2>
                <div class="progress-circle">
                    <span id="progressPercentage">0%</span>
                </div>
                <p>ูุณุจุฉ ุฅูุฌุงุฒู ุงููููุฉ</p>
                <ul>
                    <li class="sidebar-item active" data-content="main-dashboard-content">ุงูุฑุฆูุณูุฉ</li>
                    <li class="sidebar-item" data-content="manage-book-content">ุฅุฏุงุฑุฉ ุงููุชุจ ุงููุตูุฉ</li>
                    <li class="sidebar-item" data-content="my-books-content">ูุงุฆูุฉ ูุชุจู ุงููุตูุฉ</li>
                    <li class="sidebar-item" data-content="audio-books-content">ุงููุชุจ ุงูุตูุชูุฉ</li>
                    <li class="sidebar-item" data-content="daily-schedule-content">ุงูุฌุฏูู ุงููููู</li>
                    <li class="sidebar-item" data-content="progress-tracking-content">ุชุชุจุน ุงูุชูุฏู</li>
                    <li class="sidebar-item" data-content="detailed-statistics-content">ุงูุฅุญุตุงุฆูุงุช ุงูุชูุตูููุฉ</li> <li class="sidebar-item" data-content="gamification-content">ุงูุฅูุฌุงุฒุงุช ูุงูููุงูุขุช</li> <li class="sidebar-item" data-content="quizzes-content">ุงูุงุฎุชุจุงุฑุงุช</li>
                    <li class="sidebar-item" data-content="notes-content">ููุญูุธุงุชู</li>
                    <li class="sidebar-item" data-content="data-management-content">ุฅุฏุงุฑุฉ ุงูุจูุงูุงุช</li> <li class="sidebar-item">ุงููุฌุชูุน</li>
                </ul>
            </aside>

            <main>
                <div id="main-dashboard-content" class="content-section">
                    <div class="main-buttons-grid">
                        <button class="main-action-button" id="goToLessonsButton">
                            <i class="fas fa-book-open"></i>
                            <span>ุงุฐูุจ ููุฏุฑูุณ</span>
                        </button>
                        <button class="main-action-button" id="listenToExplanationButton">
                            <i class="fas fa-headphones-alt"></i>
                            <span>ุงุณุชูุน ููุดุฑุญ</span>
                        </button>
                        <button class="main-action-button" id="takeQuizButton">
                            <i class="fas fa-clipboard-question"></i>
                            <span>ุงุฎุชุจุฑ ููุณู</span>
                        </button>
                        <button class="main-action-button" id="goToNotesButton">
                            <i class="fas fa-clipboard"></i>
                            <span>ููุญูุธุงุชู</span>
                        </button>
                    </div>

                    <div id="quick-access-info" class="card" style="margin-top: 40px; text-align: center;">
                        <h2 style="color: #007bff; font-size: 1.8em;">ูุฑุญุจุงู ุจุนูุฏุชู!</h2>
                        <p id="mainPageStatus">ุงุฎุชุฑ ุฒุฑูุง ูู ุงูุฃุนูู ูุชุจุฏุฃ ุฃู ุชุงุจุน ุชูุฏูู.</p>
                        <div id="main-page-selected-book-info" style="margin-top: 20px; display: none;">
                            <h3>ุงููุชุงุจ ุงูุฑุฆูุณู ุงูุญุงูู: <span id="currentMainBookNameDisplay" style="color:#28a745;"></span></h3>
                            <button id="viewCurrentMainBookButton" style="display:none;">ุนุฑุถ ุงููุชุงุจ</button>
                            <button id="playCurrentMainAudioButton" style="margin-right: 10px; display:none;"><i class="fas fa-play"></i> ุชุดุบูู ุงูุตูุช</button>
                            <audio id="currentMainAudioPlayer" controls style="width: 80%; margin-top: 15px; display:none;"></audio>
                        </div>
                    </div>
                </div>

                <div id="lessons-content" class="content-section" style="display: none;">
                    <div class="card">
                        <h1>ุฏุฑูุณู ุงููุชุงุญุฉ ๐๐ง</h1>
                        <p>ุงุฎุชุฑ ุจูู ูุชุจู ุงููุตูุฉ ูุงูุตูุชูุฉ.</p>
                        <div id="lesson-books-display">
                            <h3>ูุชุจู ุงููุตูุฉ:</h3>
                            <div id="lessonTextBooksList" class="books-grid">
                                <p id="noLessonTextBooksMessage">ูุง ุชูุฌุฏ ูุชุจ ูุตูุฉ ุจุนุฏ. ูู ุจุฅุถุงูุชูุง ูู "ุฅุฏุงุฑุฉ ุงููุชุจ ุงููุตูุฉ".</p>
                            </div>
                            <h3>ูุชุจู ุงูุตูุชูุฉ:</h3>
                            <div id="lessonAudioBooksList" class="books-grid">
                                <p id="noLessonAudioBooksMessage">ูุง ุชูุฌุฏ ูุชุจ ุตูุชูุฉ ุจุนุฏ. ูู ุจุฅุถุงูุชูุง ูู "ุงููุชุจ ุงูุตูุชูุฉ".</p>
                            </div>
                        </div>
                    </div>
                </div>

                <div id="manage-book-content" class="content-section" style="display: none;">
                    <div class="card">
                        <h1>ุฅุฏุงุฑุฉ ูุชุงุจู ุงูุฏุฑุงุณู ุงูุฃุณุงุณู ๐</h1>
                        <p>ููุง ููููู ุฑูุน ูุชุงุจ ูุตู ุฌุฏูุฏ. ููููู ุชุนููู ุฃู ูุชุงุจ ููุชุงุจ ุฑุฆูุณู ูู ุตูุญุฉ "ูุงุฆูุฉ ูุชุจู ุงููุตูุฉ".</p>

                        <div id="currentBookDisplay" style="display: none;">
                            <div>
                                <h3>ุงููุชุงุจ ุงููุตู ุงููุนูู ููุชุงุจ ุฑุฆูุณู:</h3>
                                <p id="currentBookName"></p>
                            </div>
                            <button id="removeMainBookButton">ุฅุฒุงูุฉ ูู ุงููุงุฌูุฉ ุงูุฑุฆูุณูุฉ</button>
                        </div>

                        <div id="uploadForm" style="margin-top: 20px;">
                            <input type="file" id="bookFileInput" accept=".pdf" style="display: none;">
                            <button id="chooseFileButton">ุงุฎุชุฑ ูุชุงุจ PDF ุฌุฏูุฏ</button>
                            <p id="selectedFileName" style="margin-top: 10px;"></p>
                            <button id="uploadBookButton" style="display: none;">ุชุฃููุฏ ุฑูุน ุงููุชุงุจ ุงููุตู</button>
                        </div>

                        <p class="note">
                            **ููุงุญุธุฉ ูุงูุฉ:** ูู ูุฐุง ุงููููุฐุฌุ ูุชู ุนุฑุถ ุงุณู ุงูููู ููุท. ูุฑูุน ุงูููู ูุนูููุง ูุชุฎุฒูููุ ุณุชุญุชุงุฌ ุฅูู ุฎุงุฏู (Backend).
                            ุงูุตูุญุงุช ุงูุงูุชุฑุงุถูุฉ ููู ูุชุงุจ 100 ุตูุญุฉ.
                        </p>
                    </div>
                </div>

                <div id="my-books-content" class="content-section" style="display: none;">
                    <div class="card">
                        <h1>ูุงุฆูุฉ ูุชุจู ุงููุตูุฉ ๐</h1>
                        <p style="color: #666; margin-bottom: 20px;">ุงุฎุชุฑ ูุชุงุจูุง ูุชุนูููู ููุชุงุจ ุฑุฆูุณู ูุธูุฑ ูู ุงููุงุฌูุฉ ุงูุฑุฆูุณูุฉุ ุฃู ูู ุจุฅุฏุงุฑุฉ ูุชุจู.</p>
                        <div id="booksList" class="books-grid">
                            <p id="noBooksMessage">ูุง ุชูุฌุฏ ูุชุจ ูุตูุฉ ุญุงููุงู. ูู ุจุฑูุน ูุชุงุจู ุงูุฃูู ูู "ุฅุฏุงุฑุฉ ุงููุชุจ ุงููุตูุฉ"!</p>
                        </div>
                    </div>
                </div>

                <div id="audio-books-content" class="content-section" style="display: none;">
                    <div class="card">
                        <h1>ุงููุชุจ ุงูุตูุชูุฉ ๐ง</h1>
                        <p>ููุง ููููู ุฑูุน ูุชุงุจ ุตูุชู (MP3) ุฃู ูุฑุฆู (MP4) ุฌุฏูุฏ. ููููู ุชุนููู ุฃู ููู ูููู ุฑุฆูุณู ูุธูุฑ ูู ุงููุงุฌูุฉ ุงูุฑุฆูุณูุฉ.</p>

                        <div id="currentAudioBookDisplay" style="display: none;">
                            <div>
                                <h3>ุงููุชุงุจ ุงูุตูุชู ุงููุนูู ููุชุงุจ ุฑุฆูุณู:</h3>
                                <p id="currentAudioBookNameSecondary"></p>
                            </div>
                            <button id="removeMainAudioBookButton">ุฅุฒุงูุฉ ูู ุงููุงุฌูุฉ ุงูุฑุฆูุณูุฉ</button>
                        </div>

                        <div id="audioUploadForm" style="margin-top: 20px;">
                            <input type="file" id="audioFileInput" accept=".mp3, .mp4" style="display: none;">
                            <button id="chooseAudioFileButton">ุงุฎุชุฑ ููู ุตูุชู ุฃู ูุฑุฆู ุฌุฏูุฏ</button>
                            <p id="selectedAudioFileName" style="margin-top: 10px;"></p>
                            <button id="uploadAudioBookButton" style="display: none;">ุชุฃููุฏ ุฑูุน ุงูููู</button>
                        </div>

                        <div id="audioBooksList" class="books-grid" style="margin-top: 30px;">
                            <p id="noAudioBooksMessage">ูุง ุชูุฌุฏ ูุชุจ ุตูุชูุฉ ุญุงููุงู. ูู ุจุฑูุน ูููู ุงูุฃูู!</p>
                        </div>
                        <p class="note">
                            **ููุงุญุธุฉ ูุงูุฉ:** ุนุฑุถ ูููุงุช ุงูุตูุช/ุงูููุฏูู ูุจุงุดุฑุฉ ูู ุงููุชุตูุญ ูุชู ุนุจุฑ ุฑุงุจุท ูุคูุช. ูู ุชุทุจูู ุญููููุ ูุฌุจ ุฑูุน ุงููููุงุช ุฅูู ุฎุงุฏู.
                        </p>
                    </div>
                </div>

                <div id="daily-schedule-content" class="content-section" style="display: none;">
                    <div class="card">
                        <h1>ุงูุฌุฏูู ุงููููู ๐๏ธ</h1>
                        <p style="color: #666; margin-bottom: 20px;">ุงูุชุจ ูุง ุชุฎุทุท ููุฑุงุกุชู ุฃู ุฅูุฌุงุฒู ููู ููู.</p>
                        <div class="daily-schedule-grid">
                            <h3>ุงูููู</h3>
                            <h3>ูุง ุณุฃูุฑุฃู / ุฃูุฌุฒู</h3>
                            </div>
                        <button id="saveDailyScheduleButton" style="margin-top: 20px;">ุญูุธ ุงูุฌุฏูู</button>
                    </div>
                </div>

                <div id="progress-tracking-content" class="content-section" style="display: none;">
                    <div class="card">
                        <h1>ุชุชุจุน ุงูุชูุฏู ๐</h1>
                        <div id="progressBooksList">
                            <p id="noProgressBooksMessage">ูู ุชุถู ุฃู ูุชุจ ูุตูุฉ ูุชุชุจุน ุชูุฏูู. ูุฑุฌู ุฅุถุงูุชูุง ูู "ุฅุฏุงุฑุฉ ุงููุชุจ ุงููุตูุฉ".</p>
                            </div>
                    </div>
                </div>

                <div id="detailed-statistics-content" class="content-section" style="display: none;">
                    <div class="card">
                        <h1>ุงูุฅุญุตุงุฆูุงุช ุงูุชูุตูููุฉ ๐</h1>
                        <p style="color: #666; margin-bottom: 20px;">ุดุงูุฏ ุฅุญุตุงุฆูุงุช ููุตูุฉ ุญูู ุชูุฏูู ููุดุงุทู.</p>

                        <h2>ููุช ุงููุฑุงุกุฉ/ุงูุงุณุชูุงุน โฑ๏ธ</h2>
                        <div id="time-spent-stats" style="margin-bottom: 30px;">
                            <p id="totalReadingTime">ุฅุฌูุงูู ููุช ุงููุฑุงุกุฉ: 0 ุณุงุนุฉ ู 0 ุฏูููุฉ</p>
                            <p id="totalListeningTime">ุฅุฌูุงูู ููุช ุงูุงุณุชูุงุน: 0 ุณุงุนุฉ ู 0 ุฏูููุฉ</p>
                        </div>

                        <h2>ุชูุฏู ุงููุชุจ ุงููุตูุฉ ๐</h2>
                        <canvas id="textBookProgressChart" width="400" height="200"></canvas>
                        <p id="noTextBookProgressChart" style="display: none; text-align: center; color: #888; margin-top: 15px;">ูุง ุชูุฌุฏ ุจูุงูุงุช ูุนุฑุถ ุชูุฏู ุงููุชุจ ุงููุตูุฉ.</p>

                        <h2>ูุดุงุท ุงูุงุณุชูุงุน ูููุชุจ ุงูุตูุชูุฉ ๐ง</h2>
                        <canvas id="audioBookActivityChart" width="400" height="200"></canvas>
                        <p id="noAudioBookActivityChart" style="display: none; text-align: center; color: #888; margin-top: 15px;">ูุง ุชูุฌุฏ ุจูุงูุงุช ูุนุฑุถ ูุดุงุท ุงููุชุจ ุงูุตูุชูุฉ.</p>
                    </div>
                </div>

                <div id="gamification-content" class="content-section" style="display: none;">
                    <div class="card">
                        <h1>ุงูุฅูุฌุงุฒุงุช ูุงูููุงูุขุช ๐</h1>
                        <p style="color: #666; margin-bottom: 20px;">ุงุฌูุน ุงูุดุงุฑุงุช ูุงูุณุจ ููุงุท ุงูุฎุจุฑุฉ ูุน ุชูุฏูู ูู ุงูุชุนูู!</p>

                        <div style="text-align: center; margin-bottom: 30px;">
                            <h2>ููุงุท ุงูุฎุจุฑุฉ (XP): <span id="userXp">0</span> โญ</h2>
                            <h2>ุงููุณุชูู ุงูุญุงูู: <span id="userLevel">1</span> โฌ๏ธ</h2>
                        </div>

                        <h2>ุดุงุฑุงุชู ๐๏ธ</h2>
                        <div id="badges-display" class="badges-grid">
                            <p id="noBadgesMessage" style="text-align: center; color: #888;">ูู ุชูุณุจ ุฃู ุดุงุฑุงุช ุจุนุฏ. ุงุณุชูุฑ ูู ุงูุชุนูู!</p>
                            </div>

                        <h2>ุงูุฃูุฏุงู ุงูููุจูุฉ ๐ฏ</h2>
                        <div id="upcoming-goals">
                            <p><strong>ูุงุฑุฆ ูุจุชุฏุฆ:</strong> ุงูุฑุฃ 100 ุตูุญุฉ (ุญุงูููุง: <span id="goalReader100">0</span> ุตูุญุฉ)</p>
                            <p><strong>ุงููุณุชูุน ุงููุดูุท:</strong> ุงุณุชูุน ููุฏุฉ 60 ุฏูููุฉ (ุญุงูููุง: <span id="goalListener60">0</span> ุฏูููุฉ)</p>
                            <p><strong>ุฎุจูุฑ ุงูุงุฎุชุจุงุฑุงุช:</strong> ุฃููู 5 ุงุฎุชุจุงุฑุงุช (ุญุงูููุง: <span id="goalQuizzes5">0</span> ุงุฎุชุจุงุฑ)</p>
                        </div>
                    </div>
                </div>

                <div id="quizzes-content" class="content-section" style="display: none;">
                    <div class="card">
                        <h1>ุงูุงุฎุชุจุงุฑุงุช ๐</h1>
                        <div id="quizzesBooksList">
                            <p id="noQuizzesBooksMessage">ูู ุชุถู ุฃู ูุชุจ ูุตูุฉ ูุฅุนุฏุงุฏ ุงุฎุชุจุงุฑุงุช ููุง. ูุฑุฌู ุฅุถุงูุชูุง ูู "ุฅุฏุงุฑุฉ ุงููุชุจ ุงููุตูุฉ".</p>
                            </div>
                    </div>
                </div>

                <div id="notes-content" class="content-section" style="display: none;">
                    <div class="card">
                        <h1>ููุญูุธุงุชู โ๏ธ</h1>
                        <textarea id="notesArea" placeholder="ุงูุชุจ ููุงุญุธุงุชู ููุง ุจุญุฑูุฉ..."></textarea>
                        <button id="saveNotesButton">ุญูุธ ุงูููุงุญุธุงุช</button>
                    </div>
                </div>

                <div id="data-management-content" class="content-section" style="display: none;">
                    <div class="card">
                        <h1>ุฅุฏุงุฑุฉ ุงูุจูุงูุงุช ๐พ</h1>
                        <p style="color: #666; margin-bottom: 20px;">ููููู ุชุตุฏูุฑ ุฃู ุงุณุชูุฑุงุฏ ุจูุงูุงุชู ููุญูุงุธ ุนูููุง ุฃู ููููุง ุจูู ุงูุฃุฌูุฒุฉ.</p>

                        <h2>ุชุตุฏูุฑ ุงูุจูุงูุงุช</h2>
                        <button id="exportDataButton" style="background-color: #007bff;"><i class="fas fa-download"></i> ุชุตุฏูุฑ ุฌููุน ุจูุงูุงุชู</button>
                        <p style="font-size: 0.9em; color: #888; margin-top: 10px;">ุณูุชู ุชูุฒูู ููู JSON ูุญุชูู ุนูู ุฌููุน ุชูุฏููุ ูุชุจูุ ููุงุญุธุงุชูุ ูุฅูุฌุงุฒุงุชู.</p>

                        <h2>ุงุณุชูุฑุงุฏ ุงูุจูุงูุงุช</h2>
                        <input type="file" id="importFileInput" accept=".json" style="display: none;">
                        <button id="chooseImportFileButton" style="background-color: #28a745;"><i class="fas fa-upload"></i> ุงุฎุชุฑ ููู ุงูุจูุงูุงุช ููุงุณุชูุฑุงุฏ</button>
                        <p id="selectedImportFileName" style="margin-top: 10px;"></p>
                        <button id="importDataButton" style="background-color: #ffc107; color: #333; display: none;"><i class="fas fa-file-import"></i> ุชุฃููุฏ ุงุณุชูุฑุงุฏ ุงูุจูุงูุงุช</button>
                        <p style="font-size: 0.9em; color: #888; margin-top: 10px;">**ุชุญุฐูุฑ:** ุงุณุชูุฑุงุฏ ุงูุจูุงูุงุช ุณูุณุชุจุฏู ุฌููุน ุจูุงูุงุชู ุงูุญุงููุฉ ุจุงูุจูุงูุงุช ุงูููุฌูุฏุฉ ูู ุงูููู!</p>
                    </div>
                </div>

            </main>
        </div>
    </div>

    <div id="modal-overlay">
        <div id="modal-content">
            <button id="closeModal">&times;</button>
            <div id="modalBody">
                <div id="pdfViewerContainer" style="width: 100%; height: 500px; position: relative;">
                    <iframe id="pdfViewerFrame" style="width: 100%; height: 100%; border: none;"></iframe>
                    <div id="highlightOverlay" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none;"></div>
                </div>
                <div id="annotationTools" style="margin-top: 10px; text-align: center; display: none;">
                    <button id="highlightButton" style="background-color: #ffc107; color: #333; margin-right: 5px;">ุชูููุฒ</button>
                    <button id="addAnnotationButton" style="background-color: #007bff;">ุฅุถุงูุฉ ุชุนููู</button>
                </div>
                <textarea id="annotationInput" placeholder="ุงูุชุจ ุชุนูููู ููุง..." style="width: calc(100% - 20px); height: 80px; margin-top: 10px; display: none;"></textarea>
                <button id="saveAnnotationButton" style="display: none;">ุญูุธ ุงูุชุนููู</button>
                <div id="annotationsList" style="margin-top: 20px; text-align: right;">
                    <h3>ุชุนูููุงุชู:</h3>
                    <ul id="activeAnnotationsList" style="list-style-type: none; padding: 0;"></ul>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="script.js"></script>
</body>
